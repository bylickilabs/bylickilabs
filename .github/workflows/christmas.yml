name: Christmas Animation Generator

on:
  schedule:
    - cron: "0 */12 * * *"
  workflow_dispatch:

jobs:
  build:
    runs-on: ubuntu-latest

    steps:
      - name: Checkout Repository
        uses: actions/checkout@v4

      - name: Generate Christmas SVG
        run: |
          cat > christmas_santa.svg << 'EOF'
<svg width="100%" height="200" viewBox="0 0 800 200" xmlns="http://www.w3.org/2000/svg">

  <rect width="100%" height="100%" fill="#001026"/>

  <g id="snow">
    <circle cx="50" cy="20" r="3" fill="white">
      <animate attributeName="cy" from="-10" to="210" dur="4s" repeatCount="indefinite"/>
    </circle>
    <circle cx="120" cy="40" r="2" fill="white">
      <animate attributeName="cy" from="-10" to="210" dur="5s" repeatCount="indefinite"/>
    </circle>
    <circle cx="200" cy="10" r="3" fill="white">
      <animate attributeName="cy" from="-10" to="210" dur="3.3s" repeatCount="indefinite"/>
    </circle>
    <circle cx="300" cy="50" r="2" fill="white">
      <animate attributeName="cy" from="-10" to="210" dur="4.5s" repeatCount="indefinite"/>
    </circle>
    <circle cx="500" cy="5" r="3" fill="white">
      <animate attributeName="cy" from="-10" to="210" dur="3.8s" repeatCount="indefinite"/>
    </circle>
    <circle cx="700" cy="20" r="2" fill="white">
      <animate attributeName="cy" from="-10" to="210" dur="6s" repeatCount="indefinite"/>
    </circle>
  </g>

  <g id="santa" transform="translate(850, 80)">
    <rect x="0" y="30" width="80" height="20" fill="#b30000"/>
    <rect x="10" y="15" width="40" height="30" fill="#ff0000"/>

    <circle cx="30" cy="10" r="10" fill="#ffcccc"/>
    <rect x="20" y="20" width="20" height="20" fill="red"/>

    <g transform="translate(-70, 0)">
      <circle cx="0" cy="30" r="10" fill="#8b4513"/>
      <circle cx="-30" cy="30" r="10" fill="#8b4513"/>
      <circle cx="-60" cy="30" r="10" fill="#8b4513"/>
    </g>

    <animateTransform attributeName="transform"
      type="translate"
      from="850 80"
      to="-300 80"
      dur="12s"
      repeatCount="indefinite"/>
  </g>

</svg>
EOF

      - name: Commit Christmas SVG
        run: |
          git config --local user.name "github-actions"
          git config --local user.email "actions@github.com"
          git add christmas_santa.svg
          git commit -m "Update animated Christmas SVG" || echo "No changes"
          git push
